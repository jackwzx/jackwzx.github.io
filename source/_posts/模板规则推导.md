---
title: 模板规则推导
date: 2023-12-21 13:56:09
tags:
---

### 模板推导规则

```
template<typename T>
void passByRefFun(T& val) { }

template<typename T>
void passByUniRefFun(T&& val) { }

template<typename T>
void passByValueFun(T val) { }

void fun3(int& a) { }
void fun3(int&& a) { }

void test()
{
    int a = 0;          //a int
    const int b = a;    //b const int
    const int& c = a;   //c const int&
    
    passByRefFun(a);    // int&
    passByRefFun(b);    // const int&
    passByRefFun(c);    // const int&
    //passByRefFun(27);   // 报错
    
    passByUniRefFun(a); // int&
    passByUniRefFun(b); // const int&
    passByUniRefFun(c); // const int&
    passByUniRefFun(27); // int&&
    
    passByValueFun(a);  // int
    passByValueFun(b);  // int
    passByValueFun(c);  // int
    passByValueFun(27); // int
    
    {
        int&& a = 10;
        fun3(a);            // called void fun3(int& a)
        fun3(std::move(a)); // called void fun3(int&& a)
        
    }
}
```
